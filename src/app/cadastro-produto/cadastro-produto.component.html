<form (ngSubmit)="submit()" [formGroup]="formulario">

  <mat-card>
    <mat-card-header>

      <div mat-card-avatar class="avatar" fxLayout fxLayoutAlign="center center">
        <mat-icon>photo</mat-icon>
      </div>

      <mat-card-title>Produto</mat-card-title>
      <mat-card-subtitle>Cadastro de um novo produto</mat-card-subtitle>

    </mat-card-header>

    <mat-card-content>

      <mat-form-field appearance="outline">
        <mat-label>Nome</mat-label>
        <input matInput formControlName="nome" name="nome">
        <mat-error *ngIf="formulario.controls['nome'].hasError('required')">O campo deve ser preenchido</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Descricao</mat-label>
        <input matInput formControlName="descricao" name="descricao">
        <mat-error *ngIf="formulario.controls['descricao'].hasError('required')">O campo deve ser preenchido</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Estilo</mat-label>
        <mat-select formControlName="idEstilo">
          <mat-option *ngFor="let estilo of estilos | async" [value]="estilo.id">
            {{estilo.nome}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="formulario.controls['idEstilo'].hasError('required')">O estilo deve ser selecionado
        </mat-error>
      </mat-form-field>

    </mat-card-content>

    <mat-card-actions>

      <div fxLayout="row">

        <button mat-button color="accent" class="uppercase" type="button" [disabled]="formulario.disabled">
          Voltar
        </button>

        <button mat-button color="accent" class="uppercase" type="reset" [disabled]="formulario.disabled">
          Limpar
        </button>

        <span fxFlex></span>

        <div class="spinner-container" *ngIf="formulario.disabled">
          <mat-spinner strokeWidth="2" diameter="22"> </mat-spinner>
        </div>

        <button mat-flat-button color="primary" class="uppercase" type="submit" [disabled]="formulario.disabled">
          Salvar
        </button>

      </div>

    </mat-card-actions>

  </mat-card>

</form>
